<template name="wallarea">



{{#if Template.subscriptionsReady}}
<div class="row">
  <div class="col s3 right-align">
    {{#unless currentUser}}
        <a href="#" id="login">Login</a>

    {{else}}
       <a href="#" id="logout">Logout</a>

    {{/unless}}
  </div>
</div>
{{#unless currentUser}}
<div class="row">


  <div class="col s6 offset-s3">
      <i>We have {{yellcount}} yells</i>
      <div class="collection">

        {{#each yells}}

      <div class="collection-item">

        {{yell}}<br>

        <br><small>{{createdAt}}</small>


      </div>
        {{/each}}
        {{#if isYellCountGreaterThan5 }}
      <div id="loadmore" class="collection-item"><button class="btn orange darken-2 waves-effect">Load More</button></div>
      {{/if}}
      </div>
  </div>
</div>
{{else}}
<div class="row">



  <div class="col s6 offset-s3 center-align">
        <form method="post" id="yellbox">
        <div class="input-field yellarea">
          <input type="text" name="yelltext" id="yelltext" value="{{yellvalue}}">
          {{#unless yellvalue}}
          <label for="yelltext">YOUR YELL..</label>
          {{/unless}}
        </div>
      </form>
      {{#if ifYellLengthGreater140}}
      <i><small class="red-text">{{yellLength}}</small> characters remaining</i>
      {{else}}
        {{#unless ifYellLength0}}
          <i><small class="blue-text">{{yellLength}}</small> characters remaining</i>
        {{/unless}}
      {{/if}}
  </div>
</div>
<div class="row">

    <div class="col s3">
      {{> userpanel}}
    </div>
  <div class="col s6">
      <i>We have {{yellcount}} yells</i>
      <div class="collection">

        {{#each yells}}

      {{#if isItMe user}}
      <div class="collection-item yellow lighten-2">
        {{yell}}
<br><b><small>{{whosYell user}}</small></b><br>
        <span class="right-align red-text"><a href="" data-id="{{_id}}" class="red-text deleteItem">DEL</a></span>
        | <span class="right-align"><a href="" data-id="{{_id}}" class="editItem">EDIT</a></span>

      <br> <small>{{createdAt}}</small>
      </div>
      {{else}}
      <div class="collection-item">
        {{yell}}
        <br><b><small>{{whosYell user}}</small></b><br>

      <br> <small>{{createdAt}}</small>
      </div>
      {{/if}}
        {{/each}}
        {{#if isYellCountGreaterThan5 }}
      <div id="loadmore" class="collection-item"><button class="btn orange darken-2 waves-effect">Load More</button></div>
      {{/if}}
      </div>
  </div>
</div>
{{/unless}}
{{else}}
<div class="row">
  <div class="col s6 offset-s3 blue-text">
    <div class="preloader-wrapper big active">
       <div class="spinner-layer spinner-blue">
         <div class="circle-clipper left">
           <div class="circle"></div>
         </div><div class="gap-patch">
           <div class="circle"></div>
         </div><div class="circle-clipper right">
           <div class="circle"></div>
         </div>
       </div>

       <div class="spinner-layer spinner-red">
         <div class="circle-clipper left">
           <div class="circle"></div>
         </div><div class="gap-patch">
           <div class="circle"></div>
         </div><div class="circle-clipper right">
           <div class="circle"></div>
         </div>
       </div>

       <div class="spinner-layer spinner-yellow">
         <div class="circle-clipper left">
           <div class="circle"></div>
         </div><div class="gap-patch">
           <div class="circle"></div>
         </div><div class="circle-clipper right">
           <div class="circle"></div>
         </div>
       </div>

       <div class="spinner-layer spinner-green">
         <div class="circle-clipper left">
           <div class="circle"></div>
         </div><div class="gap-patch">
           <div class="circle"></div>
         </div><div class="circle-clipper right">
           <div class="circle"></div>
         </div>
       </div>
     </div>

</div>
</div>
{{/if}}

<div id="loginModal" class="modal">
<div class="modal-content">
    {{> login}}
</div>
</div>
</template>
